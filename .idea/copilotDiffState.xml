<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/API_INTEGRATION.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/API_INTEGRATION.md" />
              <option name="updatedContent" value="# API Integrasjonsguide&#10;&#10;## Oppsett&#10;&#10;Backend-koblingen er nå konfigurert og klar til bruk.&#10;&#10;### Filer opprettet:&#10;&#10;1. **`.env`** - Miljøvariabler for API URL&#10;2. **`src/types/api.ts`** - TypeScript types for alle API-data&#10;3. **`src/services/api.ts`** - API-klient med alle endpoints&#10;4. **`src/services/apiTest.ts`** - Test-funksjon for å verifisere tilkobling&#10;&#10;## Bruke API i komponenter&#10;&#10;### Eksempel: Hente brands&#10;&#10;```typescript&#10;import { useEffect, useState } from 'react';&#10;import { api } from '../services/api';&#10;import { Brand } from '../types/api';&#10;&#10;function MyComponent() {&#10;    const [brands, setBrands] = useState&lt;Brand[]&gt;([]);&#10;    const [loading, setLoading] = useState(true);&#10;    const [error, setError] = useState&lt;string | null&gt;(null);&#10;&#10;    useEffect(() =&gt; {&#10;        async function fetchBrands() {&#10;            try {&#10;                const data = await api.getBrands();&#10;                setBrands(data);&#10;            } catch (err) {&#10;                setError(err instanceof Error ? err.message : 'Unknown error');&#10;            } finally {&#10;                setLoading(false);&#10;            }&#10;        }&#10;        fetchBrands();&#10;    }, []);&#10;&#10;    if (loading) return &lt;div&gt;Loading...&lt;/div&gt;;&#10;    if (error) return &lt;div&gt;Error: {error}&lt;/div&gt;;&#10;&#10;    return (&#10;        &lt;div&gt;&#10;            {brands.map(brand =&gt; (&#10;                &lt;div key={brand.id}&gt;{brand.name}&lt;/div&gt;&#10;            ))}&#10;        &lt;/div&gt;&#10;    );&#10;}&#10;```&#10;&#10;### Eksempel: Login&#10;&#10;```typescript&#10;import { api } from '../services/api';&#10;&#10;async function handleLogin(username: string, password: string) {&#10;    try {&#10;        const response = await api.login(username, password);&#10;        console.log('Logged in:', response);&#10;        // Lagre brukerinfo, redirect, etc.&#10;    } catch (error) {&#10;        console.error('Login failed:', error);&#10;    }&#10;}&#10;```&#10;&#10;### Eksempel: Hente analytics&#10;&#10;```typescript&#10;const analytics = await api.getBrandAnalytics(1); // Brand ID 1 (Nike)&#10;console.log('Total sales:', analytics.totalSales);&#10;console.log('Revenue:', analytics.totalRevenue);&#10;console.log('Return rate:', analytics.returnRate);&#10;```&#10;&#10;## Tilgjengelige API-funksjoner&#10;&#10;### Autentisering&#10;- `api.checkUsername(username)` - Sjekk om brukernavn er tilgjengelig&#10;- `api.register(username, password, brand)` - Registrer ny bruker&#10;- `api.login(username, password)` - Logg inn&#10;&#10;### Brands&#10;- `api.getBrands()` - Hent alle brands&#10;- `api.getBrandById(id)` - Hent en spesifikk brand&#10;- `api.getBrandAnalytics(id)` - Hent analytics for en brand&#10;- `api.getBrandSales(id)` - Hent salg for en brand&#10;- `api.getBrandReturns(id)` - Hent returer for en brand&#10;- `api.getBrandCarts(id)` - Hent handlevogner for en brand&#10;&#10;### Produkter&#10;- `api.getProducts(brandId?)` - Hent alle produkter (valgfri filter på brand)&#10;- `api.getProductById(id)` - Hent et spesifikt produkt&#10;&#10;### Salg og handlevogner&#10;- `api.getSales()` - Hent alle salg&#10;- `api.getCarts()` - Hent alle handlevogner&#10;- `api.getReturns()` - Hent alle returer&#10;&#10;## Teste tilkoblingen&#10;&#10;Du kan teste API-tilkoblingen ved å kjøre:&#10;&#10;```typescript&#10;import { testConnection } from '../services/apiTest';&#10;&#10;// I en komponent eller console&#10;testConnection();&#10;```&#10;&#10;## Feilhåndtering&#10;&#10;API-klienten har innebygd feilhåndtering som:&#10;- Logger feil til console&#10;- Kaster exception ved HTTP-feil&#10;- Returnerer feilmelding fra backend hvis tilgjengelig&#10;&#10;Bruk try-catch for å håndtere feil i komponentene dine.&#10;&#10;## Backend må kjøre&#10;&#10;Husk at backend må kjøre på `http://localhost:8080` før du kan bruke API-klienten.&#10;&#10;Start backend med:&#10;```bash&#10;cd KledaDashboardBackend&#10;mvn spring-boot:run&#10;```&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>